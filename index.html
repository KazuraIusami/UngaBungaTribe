<html>
	<!-- Current project is a time based day/night cycle with day phase implimentation-->
<head>
	<title>UNGA - Powered by Aztech</title>

		<link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/KazuraIusami/UngaBungaTribe/main/UNGA.ico">
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Jacquard+24&family=Lugrasimo&display=swap" rel="stylesheet">
	<style>
	
  body {
  /*  transition: background-color 1s ease; */
	
	font-family: "Lugrasimo", cursive;
    font-size: 24px;
    padding-top: 100px;
  }
	#timeDiv{
	text-align: center;
	display: none;
	}
	#content {
		
	}
	.content {
		text-align: center;
		width: 80%;
		height: 80%;
		margin: auto;
		background-color:black;
		border-radius: 50px;
		color: white;
		padding:15px;
	}
	#poemContainer {
		display: none;
	}
</style>
</head>
<body>
	
<div id="timeDiv">	
		<input type="text" id="nameInput" placeholder="Enter a Name" style="text-align:center"><p id="name"></p> <button onclick="submitName()" id="submitButton">Submit</button>
		<div id="dayDisplay">Day : 0 </div>
		<div id="timeDisplay">Time: 00:00</div>
		<div id="phaseDisplay">Phase : Midnight</div>
	  
		<button onclick="toggleInterval()" id="timeButton">Pause/Resume</button>
		<button onclick="save()" id="saveButton">Save!</button>
		<button onclick="load()">Load!</button>
		<button onclick="toggleAutosave();" id="toggleAutosaveButton">Toggle Autosave!</button>
		<button onclick="deleteSave()">Delete Save (ALL progress will be lost)</button>
		<br>
</div>	  
	
<div id="content" class="content">
	<h1>UNGABUNGA TRIBE STUDIOS - UNGA </h1>
	<br> <hr>
	<p style="text-align:left">That's right. UNGABUNGA TRIBE STUDIOS is now live and active. What now? Do we take over the world? Maybe. Might as well start referring to us as the <span id="easterEggU">(U)</span>nited <span id="easterEggN">(N)</span>ations of <span id="easterEggG">(G)</span>reat <span id="easterEggA">(A)</span>merica, if we keep up this pace.</p>
	<br>
	<p style="text-align:left">In all seriousness, this will be the place where I put all my current projects. No schedule, no planned future events as of now.</p> 
	<br>
	<p style="text-align:left">But in <span id="UNGA" onclick="toggleDisplay()">time</span> things will start to appear here, so don't forget to come back. And who knows, maybe there are already some hidden goodies here ;)</p>
</div>

<div id="poemContainer" class="content">
		<div id="poem1">Coming home is terrible
		whether the dogs lick your face or not;
		whether you have a wife
		or just a wife-shaped loneliness waiting for you.
		Coming home is terribly lonely,
		so that you think
		of the oppressive barometric pressure
		back where you have just come from
		with fondness,
		because everything’s worse
		once you’re home.<br>(1/9)</div>
		<div id="poem2">You think of the vermin
		clinging to the grass stalks,
		long hours on the road,
		roadside assistance and ice creams,
		and the peculiar shapes of
		certain clouds and silences
		with longing because you did not want to return.
		Coming home is
		just awful.<br>(2/9)</div>
		<div id="poem3">And the home-style silences and clouds
		contribute to nothing
		but the general malaise.
		Clouds, such as they are,
		are in fact suspect,
		and made from a different material
		than those you left behind.
		You yourself were cut
		from a different cloudy cloth,
		returned,
		remaindered,
		ill-met by moonlight,
		unhappy to be back,
		slack in all the wrong spots,
		seamy suit of clothes
		dishrag-ratty, worn.<br>(3/9)</div>
		<div id="poem4">You return home
		moon-landed, foreign;
		the Earth’s gravitational pull
		an effort now redoubled,
		dragging your shoelaces loose
		and your shoulders
		etching deeper the stanza
		of worry on your forehead.
		You return home deepened,
		a parched well linked to tomorrow
		by a frail strand of…<br>(4/9)</div>
		<div id="poem5">Anyway… (5/9)</div>
		<div id="poem6">You sigh into the onslaught of identical days.
		One might as well, at a time…<br>(6/9)</div>
		<div id="poem7">Well…
		Anyway…
		You’re back.<br>(7/9)</div>
		<div id="poem8">The sun goes up and down
		like a tired whore,
		the weather immobile
		like a broken limb
		while you just keep getting older.
		Nothing moves but
		the shifting tides of salt in your body.
		Your vision blears.
		You carry your weather with you,
		the big blue whale,
		a skeletal darkness.<br>(8/9)</div>
		<div id="poem9">You come back
		with X-ray vision.
		Your eyes have become a hunger.
		You come home with your mutant gifts
		to a house of bone.
		Everything you see now,
		all of it: bone.<br>(9/9)</div>
</div>
  
  <script>
	let name;
	
	let autosaveEnabled = false;
	
	
	
	let day = 0;
	let time = 720; // Set initial time to 12:00 (720 minutes)
	const brightestTime = 840; // Set the brightest time to 14:00 (840 minutes)
	
	let phase = 'Midnight';
	let hours = Math.floor(time / 60);
    let minutes = time % 60;
    let formattedTime = `${hours < 10 ? '0' : ''}${hours}:${minutes < 10 ? '0' : ''}${minutes}`;
	
	//SURVIVAL STUFF
	let hunger = 1000;
	let hungerRate = 0.5;
	
function updateTime() {			//THIS IS THE SINGLE TICK FUNCTION
    time += 1;
	
    
	hours = Math.floor(time / 60);
	minutes = time % 60;
	formattedTime = `${hours < 10 ? '0' : ''}${hours}:${minutes < 10 ? '0' : ''}${minutes}`;
	
    document.getElementById('timeDisplay').textContent = `Time: ${formattedTime}`;
	document.getElementById('dayDisplay').textContent = `Day: ${day}`;
    
    let brightness;
    if (time < brightestTime) {
        brightness = time / brightestTime; // Brightness increases until the brightest time
    } else {
        brightness = 1 - (time - brightestTime) / (1440 - brightestTime); // Brightness decreases after the brightest time
    }
    
    const backgroundColor = `rgb(${brightness * 255 - 40}, ${brightness * 255 - 40}, ${brightness * 255 - 20})`;
    document.body.style.backgroundColor = backgroundColor;
	
	 // Calculate inverse color for text
    const inverseColor = `rgb(${255 - (brightness * 255 - 40)}, ${255 - (brightness * 255 - 40)}, ${255 - (brightness * 255 - 20)})`;
    document.body.style.color = inverseColor;
    
    if (time > 1440) {
        time = 0;
		day++;
		console.log("New Day! Day : " + day );
		document.getElementById('dayDisplay').textContent = `Day: ${day}`;
    }
	
	if(time < 119){							//00:00 -> 02:00
		phase = "Midnight";
	}else if(time > 119 && time < 359){		//02:00 -> 06:00
		phase = "Early Morning";
	}else if(time > 359 && time < 539){		//06:00 -> 09:00
		phase = "Morning";
	}else if(time > 539 && time < 719){		//09:00 -> 12:00
		phase = "Late Morning";
	}else if(time > 719 && time < 779){		//12:00 -> 13:00
		phase = "High Noon";
	}else if(time > 779 && time < 960){		//13:00 -> 16:00
		phase = "Afternoon";
	}else if(time > 960 && time < 1140){	//16:00 -> 19:00
		phase = "Late Afternoon";
	}else if(time > 1140 && time < 1320){ 	//19:00 -> 22:00
		phase = "Evening";
	}else if(time > 1320){					//22:00 -> 24:00
		phase = "Night";
	}
	document.getElementById("phaseDisplay").textContent = `Phase : ${phase}`;
	
	
}


//Function to start and stop the interval
let tickInterval = setInterval(updateTime, 100);

function toggleInterval(){ //TOGGLE TIME INTERVAL
	const timeButton = document.getElementById("timeButton");
	if(!tickInterval){
		tickInterval = setInterval(updateTime, 100);
		timeButton.style.border = "2px solid green";
	}else {
		clearInterval(tickInterval);
		timeButton.style.border = "2px solid red";
		tickInterval = null;
	}
}



function toggleDisplay() {
    var timeDiv = document.getElementById("timeDiv");
    timeDiv.style.display = timeDiv.style.display === "none" ? "block" : "none";
}

function submitName(){
	name = document.getElementById("nameInput").value;
	document.getElementById("name").textContent = `${name}`;
	document.getElementById("nameInput").style.display = "none";
	document.getElementById("submitButton").style.display = "none";
}

function save(){
	var currentSave = {SavedDay: day, SavedHour: hours, SavedMinute: minutes, SavedTime: time, SavedName: name, SavedAutosaveSetting: autosaveEnabled}; //ALL STUFF SAVED DURING SAVE
	var stringed = JSON.stringify(currentSave);
	localStorage.setItem("currentSaveStringed", stringed)
	console.log("Saved. " + stringed)
	
	const saveButton = document.getElementById("saveButton");
	saveButton.style.border = "2px solid green";
	setTimeout(() => {
                saveButton.style.border = '1px solid black';
            }, 500);
}

function load() {
    // Check if 'currentSaveStringed' exists in localStorage
    if (localStorage.getItem('currentSaveStringed')) {
        // Retrieve the value and set it to currentSave
        var currentSave = JSON.parse(localStorage.getItem('currentSaveStringed'));
		
			day = currentSave.SavedDay;
			hours = currentSave.SavedHour;
			minutes = currentSave.SavedMinute;
			time = currentSave.SavedTime;
			name = currentSave.SavedName;
				document.getElementById("name").textContent = `${name}`; //Change html 
				
			//Check to see what the autosave settings were
			autosaveEnabled = currentSave.SavedAutosaveSetting;	
        console.log('currentSave set to:', currentSave);
    } else {
        console.log('No current save found in localStorage.');
    }
}

load(); //we are talking, MEGA BRAIN 

//Should I do autosaving? Hmmmmm...Well I don't think it'll do any harm. Not personally, at least. What's disk space? /s 


let autosaveInterval = setInterval(() => {
            if (autosaveEnabled) {
                save();
            }
            console.log(autosaveEnabled ? "Autosave Enabled : True" : "Autosave Enabled : False");
        }, 5000); // Autosave every 5 seconds


//Lets get fancy and make the button change color depending on the value
const toggleAutosaveButton = document.getElementById("toggleAutosaveButton");
autosaveEnabled ? toggleAutosaveButton.style.border = "2px solid green" : toggleAutosaveButton.style.border = "2px solid red";

function toggleAutosave(){
	autosaveEnabled ? autosaveEnabled = false : autosaveEnabled = true; //Flip-a-da variables as the great Mario used to say
	autosaveEnabled ? toggleAutosaveButton.style.border = "2px solid green" : toggleAutosaveButton.style.border = "2px solid red";
	
	console.log(autosaveEnabled ? "Autosave Enabled : True" : "Autosave Enabled : False");
}
function deleteSave(){
	localStorage.clear();
}


// // // // // POEM STUFF // // // // //

//So I really want to be able to have the poem Bonedog (from I'm Thinking of Ending Things) as a secret little compartment. Hidden, so if you are reading this, SHHHHH!

const poemContainer = document.getElementById("poemContainer");

	//Container that holds all seperate verses
const poemVerse = [document.getElementById("poem1"), document.getElementById("poem2"), document.getElementById("poem3"),
					document.getElementById("poem4"), document.getElementById("poem5"), document.getElementById("poem6"), document.getElementById("poem7"),
					document.getElementById("poem8"), document.getElementById("poem9"),]
					
for(let i = 0; i < poemVerse.length; i++){ 
	poemVerse[i].style.display = "none";
}
poemVerse[0].style.display = "block";
	
//Add a keylog listener
			
			document.body.addEventListener("keydown", (event) => {
				console.log(event.key);
					if(event.key === "u" || event.key === "U"){
						document.getElementById("easterEggU").style.color = "Gold";
					}
					if(event.key === "n" || event.key === "N"){
						document.getElementById("easterEggN").style.color = "Gold";
					}
					if(event.key === "g" || event.key === "G"){
						document.getElementById("easterEggG").style.color = "Gold";
					}
					if(event.key === "a" || event.key === "A"){
						document.getElementById("easterEggA").style.color = "Gold";
					}
					if(document.getElementById("easterEggU").style.color === "gold" && document.getElementById("easterEggN").style.color === "gold" && document.getElementById("easterEggG").style.color === "gold" && document.getElementById("easterEggA").style.color === "gold"){
						document.getElementById("UNGA").style.color = "Gold";
					}
					
					//Changing the slide of the poem (IN THE MOST UNGA WAY POSSBLE FFS)
						if(event.key === "1"){
							for(let i = 0; i < poemVerse.length; i++){ 
								poemVerse[i].style.display = "none";
							}
							poemVerse[0].style.display = "block";
						}
						if(event.key === "2"){
							for(let i = 0; i < poemVerse.length; i++){ 
								poemVerse[i].style.display = "none";
							}
							poemVerse[1].style.display = "block";
						}
						if(event.key === "3"){
							for(let i = 0; i < poemVerse.length; i++){ 
								poemVerse[i].style.display = "none";
							}
							poemVerse[2].style.display = "block";
						}
						if(event.key === "4"){
							for(let i = 0; i < poemVerse.length; i++){ 
								poemVerse[i].style.display = "none";
							}
							poemVerse[3].style.display = "block";
						}
						if(event.key === "5"){
							for(let i = 0; i < poemVerse.length; i++){ 
								poemVerse[i].style.display = "none";
							}
							poemVerse[4].style.display = "block";
						}
						if(event.key === "6"){
							for(let i = 0; i < poemVerse.length; i++){ 
								poemVerse[i].style.display = "none";
							}
							poemVerse[5].style.display = "block";
						}
						if(event.key === "7"){
							for(let i = 0; i < poemVerse.length; i++){ 
								poemVerse[i].style.display = "none";
							}
							poemVerse[6].style.display = "block";
						}
						if(event.key === "8"){
							for(let i = 0; i < poemVerse.length; i++){ 
								poemVerse[i].style.display = "none";
							}
							poemVerse[7].style.display = "block";
						}
						if(event.key === "9"){
							for(let i = 0; i < poemVerse.length; i++){ 
								poemVerse[i].style.display = "none";
							}
							poemVerse[8].style.display = "block";
						}
					
					
					//CHANGE TABS
						if(event.key === "["){
							document.getElementById("content").style.display = "block";
							document.getElementById("poemContainer").style.display = "none";
						}
						if(event.key === "]"){
							document.getElementById("content").style.display = "none";
							document.getElementById("poemContainer").style.display = "block";
						}
					
			});
			
		
			
			let pressedKeys = [];
			
			document.body.addEventListener("keydown", (event) => {
				
				pressedKeys[event.key.toUpperCase()] = true;
				pressedKeys[event.key.toLowerCase()] = true;
			});
			
			document.body.addEventListener("keyup", (event) => {
			
				pressedKeys[event.key.toUpperCase()] = false;
				pressedKeys[event.key.toLowerCase()] = false;
				
			})
  </script>
</body>
</html>
